# Breaking Monero 06: Unusual Ringsize 
*06/09/19*  
_**In this short episode, we discuss the unfortunate tradeoff when sending Monero transactions with unusual ringsizes.**_  

**Breaking Monero Episode 06: Unusual Ringsize**  

https://youtu.be/8rbR1WMUr14  
In this short episode, we discuss the unfortunate tradeoff when sending Monero transactions with unusual ringsizes. Some transactions were sent with ringsizes over 1000. Monero moved to consensus-mandated ringsizes in a recent update instead of minimum ringsizes. Thus, the concerns in this video serve an informative purpose, but they do not have any current relevance.

[moneroblocks.info](https://moneroblocks.info/search/5e75b4596c234ad17d34c44c3f07da508afb985748b3066bbfe2923cedb0b81a)
[stoffu.github.io/diff-chart/monero-ring-size.html](https://stoffu.github.io/diff-chart/monero-ring-size.html)

[All Breaking Monero Episodes](https://www.monerooutreach.org/breaking-monero/) 

_**Episode Transcription**_

_**Justin:**_ Hello everyone and welcome back to another episode of Breaking Monero. Today we have a much similar from the last two episodes at least, just the idea of an unusual ring size. This should be a pretty short episode for you all today. We already spoke about what Monero’s ring signatures are so make sure to go watch those episodes if you haven’t seen them yet, but instead we’re simply covering how Monero’s ring sizes sort of changed and how as a result you can’t really send transactions with unusual rings sizes anymore. So, to begin with we’re going to start with a brief history lesson. And to help aid us with this there’s this one contributor called stoffu who has a real fantastic tool over here in regards to Monero’s ring size of Monero’s transactions over time. So you can see back when Monero first started, most of the transactions, you know, 98% of them had a ring size of 1, in that you did not hide the output at all. There was essentially no ring signature. And as we increase the minimum as you can clearly see here, that the minimum became 3. So as a result most became ring size 3, and then 5, and then 7, and now 11. But as you can see going up this process, it wasn’t that everyone used one specific number. You can see here for example, on June 30th 2017, that sure, most transactions used ring size 3, but there were several other transactions that were sent. As an example here, there a 130 transactions on that day, about 5% that sent transactions with ring size 11. And this was one of the options in the GUI, so you can tell the GUI wallet software, so it was more likely for someone to use a ring size of 11 than a ring size of 14 let’s say. But if we zoom in on the current history, if we go in just to the recent day we can see that now ring size 11 which is the current ring size of Monero is the only transaction size that people can use. No it’s not just the case that coincidentally everyone’s sending transactions this way; it’s actually mandated that you send transactions this way, that you actually have a mandatory ring size now. So this is a little bit of just, you know history going back and so hopefully this tool if you want to play around, stoffu has a ton of great data too on their website you can see the [link just up there](https://stoffu.github.io/diff-chart/monero-ring-size.html). So a lot of cool data there even beyond just Monero ring sizes for whatever you’re interested in, but just warning that it will destroy your browser window as you’re trying to use them. Just fair warning to everyone who’s trying to set this up for the first time. Alright, but as far as late introductions here, I apologize, but yep, I’m Justin here as always. And just like always too we have Sarang over there. Wave Sarang. Hello. 

_**Sarang:**_ Hey. 

_**Justin:**_ Excellent. So do you want to talk about some of the sort of crazy outliers we had with Monero rings in the past, and sort of what people were doing there? 

_**Sarang:**_ Yeah, so I mean as you kind of pointed out up until very, very recently the ring size was not fixed so there were minimum ring sizes established. The minimum originally was one because you had to send something which has effectively meant that ring signatures were more or less optional. And as you said that that minimum is increased over time but that was just a minimum so in the wallet software you could choose in theory any ring size if you wanted. And then your wallet software would choose you know approximately that many decoys along with your real, your real sent output and generate a transaction with it. And then different wallets of course could kind of make their own decisions on you know what they wanted to offer is kind of fixed options. As you pointed out some wallet software you know while it would let you choose any ring size if you really wanted to would also offer kind of some preset options to kind of make things easy for you. But some folks definitely have had some outliers when they you know presumably wanted to increase their privacy a great deal. We discussed before, before we recorded, discussed a couple of interesting ones. One of which was looks like on October 10th, 2018 that was you know greater than 100 for example. But I think kind of the biggest standout even though, I think you actually have a screen to show for this one was in April 2017 which had as far as I have seen one of if not be greatest ring sizes of all time at 4,501. So, yeah... 

_**Justin:**_ I can follow that up, and just show people that really briefly. You can just see on this [example block explorer page here](https://moneroblocks.info/search/5e75b4596c234ad17d34c44c3f07da508afb985748b3066bbfe2923cedb0b81a) that you had a mixin of 4,500 so a ring size of 4,501. So this is a quite large ring size. Remember that at the time this this was in April 2017 so the default was either 5 or 7 so this is... 

_**Sarang:**_ Yeah it’s pretty crazy. And remember you know the way that ring signatures work among those 4,501 outputs that occurred in that signature, only one of them was a truly spent output. You know absent external information we don’t know what it is. We noticed as we did a little bit of digging in there, a lot of the, a lot of the decoys that, presumably decoys that were used in that transaction actually had ring size 1 and so would have been you know trivially vulnerable to the whole zero mixin and and possibly leading to a chain reaction attack. So and as we talked about when we talked about our output selection algorithm you know there’s more to it than just ring size when it comes to safely building a transaction. But those are kinda some interesting standouts you know and and of course why this is, why this can be a problem is has to do with fingerprinting. And the idea of fingerprinting is that if your wallet software behaves, you know abnormally or in any way that kind of stands out when it’s generating an transaction an adversary can kind of use that as a heuristic to try to figure out what software you’re using. Does that break your privacy immediately? Well no not necessarily, but at the same time the goal is for everyone to kind of blend in uniformly. So you know if you you decide for whatever reason to you know have ring size 69 because you know that’s the thing you want to do... then presumably someone could look at the chain and be like “Oh a transaction with ring size 69. Ah, must be that one ring 69 guy.” Does that tell who you are? Not necessarily, but it does make you stand out and maybe you can see different wallets software over time that’s kind of giving users their options that presumably was to you know offer them different levels of privacy. Presumably in those cases a smaller ring would have meant lower privacy and a larger ring could have meant higher privacy. But of course that’s not necessarily the case, right? We do know that if wallet software offers different values for those options than other wallet software that’s a method to fingerprint what wallet you were using you know. And of course there’s much more that goes into what you know determines you know the level of effective privacy of a ring than just its ring size. Now of course we have a fixed mandatory ring size of 11 which means a real input and you know ten decoys and that’s no longer a minimum. You know regardless of what your wallet software tries to do, if it tries to broadcast a transaction with any number besides that, the network will reject it and it will not be added to the blockchain which is why we looked at that, that graphic earlier we saw that 100% of transactions since that fork or upgrade date now have that precise ring size. And that’s a good thing. You know, will we ever consider raising the ring size in the future? If we see a definite user benefit yes we will consider that. But there are trade-offs so you know absent all other information in theory having a larger ring size, in the absence of other information, you know can be better for your privacy. Why? Because a ring signature guarantees that you know one out of however many outputs are in your ring are the true signer. And again absent external information, but it tends to be more complicated in practice. For example, we saw in our previous episode on the output selection algorithm we know that that can be a little bit complicated; if you choose those decoys poorly for example, that can start to leak a little bit of heuristic information to an adversary. And there’s other forms of analysis that are a bit less sensitive to that for which just purely increasing the ring size might not give you as much benefit as you want. And there are downsides right? If we choose to have a larger ring size well that means the transactions become bigger the blockchain bloats faster, depending on our fee model it could yield higher fees, and it means that it’s also slower to sync the blockchain over time and that could discourage people from running full nodes. So it’s kind of this you know large, large scale effect if we were to do that. Do we get better privacy? According to some models yes, but according to other models not necessarily. So kind of the big model behind all of this I think is that our goal is to make sure that every transaction to the extent possible blends in with every other transaction. If there’s a way that a transaction can stand out is that could allow any kind of fingerprinting or leak of information we want to avoid it. You know researchers and developers in Monero community decided that allowing for larger ring sizes while it could have some marginal benefit you know was outweighed by the fact that that could allow fingerprinting and in general just standing out from other transactions and that because of that we decided to go to a fixed ring size. So, we really want to make it fairly difficult for people to make choices that are unsafe for them and other people and I think that this was one way in which we were able to help that. 

_**Justin:**_ To give a brief example to that suppose that I was paying Sarang for any, any reason right? And say I want to buy Sarang’s cool coffee mug there right? He sells coffee mugs okay? Suppose that Sarang was really concerned about your privacy and that you said okay any payments sent to me must have a ring size of this number or greater because I want the most privacy possible when I’m receiving payment. So suppose Sarang just goes off the wall he says if you’re sending me a transaction you need to send me a transaction with the ring size 100 or greater. Well there aren’t that many people that are sending transactions of those ring sizes, so you can fingerprint essentially by looking at the blockchain data and say okay this is a this is a transaction that meets Sarang’s merchant store minimum requirement of 100 so there’s a, I mean there’s a greater chance this transaction went to him than any other transaction with a smaller ring size. So it was really balancing those sort of things. It’s, it’s weird because on one hand you can go to one strict extreme where you can say that any like, any larger ring size is better. Like I can send a ring size with five, a transaction with the ring size of 10 or 100. Why shouldn’t I send 100? It’s larger. And then you can go to the other extreme that says well you’re exposing more information and really in for reality’s purpose that’s kind of somewhere between the two and we need to manage fingerprinting against actual size and use cases and other things like that. 

_**Sarang:**_ Yeah increasing the ring size you know according to some forms of analysis can be very beneficial but you end up paying for it in other ways. So there’s always a balance and we have to try to meet that balance at any point in time as best we can and that’s what we do. 

_**Justin:**_ Great Sarang. Any last closing thoughts that you have on this short topic here? 

_**Sarang:**_ We turned it up to 11 man. 

_**Justin:**_ Excellent, well thanks, thanks again for joining me Sarang and thanks for watching this very brief episode today. We’ll have others coming out to you later. Take care and have a great rest of your day. 

_**Sarang:**_ See ya. 
